<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="794px" height="742px" viewBox="-0.5 -0.5 794 742" content="&lt;mxfile host=&quot;localhost&quot; modified=&quot;2020-07-29T03:10:08.843Z&quot; agent=&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.12 Safari/537.36 NutstoreApp-LightApp-1.0.4 BrowserId/8008714446c046479f6d0ef6c28f170e&quot; etag=&quot;yIMiGEeHEXSFfsxsStet&quot; version=&quot;12.4.7&quot; type=&quot;nutstore&quot; pages=&quot;2&quot;&gt;&lt;diagram id=&quot;9026b367-c43d-59dc-8533-dd78b0df729c&quot; name=&quot;linux进程空间&quot;&gt;7VnJcuM2EP0aVCUHp7gvR1KLc8hUpkqpZHxywSQsIUMSCghakr8+AAguIClZM7Y0rjg8iMTDxu5+et2QgD3L97cUbjefSIoyYBnpHthzYFmmYwb8JpBDjQSOVQNrilM1qANW+Bkp0FBohVNUagMZIRnDWx1MSFGghGkYpJTs9GGPJNN33cI1GgGrBGZj9C+cso2ywvI7/FeE15tmZ9ML654HmHxdU1IVaj9g2Ut51d0lOzRbwOeKohrNYbODMr/cwJTsepC9APaMEsLqp3w/Q5nweOPMet7ySG9rDUUFO2dCcDf3d3/eRze/z+er5y/e0x+33o2K4BPMKtQYN7BJGo7EIgaw490GM7TawkT07jhROLZhecZbJn8sGSVf0YxkhMrZtiEv3vOIs6yHz/hV46RgS5jjTLBqRnKc8O1XsCj57dOKDxjbqUx/QpShfQ9Sdt8ikiNGD3yI6rVVCBRxm4jsOha0QzY9BtieAqFi3rpdufMzf1Cu/ga32x/C7a773vwejtyMUq4RqlmQgt9i3fOJ9E39TCjbkDUpYPYbIVvl+78RYweldrBiRI8M2mP2RUz/xVWtu17PfK9Wlo1D0yi4rfUkk2usAu4kYLTtbq5saZM/I4q5xxBVYMkgZZHQ0M7ME5z5bm6UpKIJOhEAR+k+pGvETozz6nEiOieZRlEGGX7SFf7NaeNMfF29jClXaYTy/qlI03FTSlZEfIDlbPddp0xyjd87sIlAD/LW8r7wQeiAKAALDwQBiH2BRCGII7AIQeiD2GneiBtYv5Saeh1deZTXlXTF0WXFmZAVc0JWLqYq7v/0eE/0cL13xg/THLn54mmnSyFuP4G0fUeyx7USxYsJwH3rBKCmfiZYfiUVVzzP1UsU19eXqDOamjXgQfsa308N74dLhwsCLhqukI7IAHFwXDoeaDPrJyk0IQgM8RDOxPOC684ShFKMuBIFtSpFIHDkHi6ITbBwxLpRPN7j5/EmH0ixBgmtVaKeYvlThbJpXkyyJg6GPGixDWIZPf4ZLmXMDRDYXQIaRbE8lAzl94+U5PdVyQvSYfi4i9ipGCkR6odHQTDD64I3E+54UenGwuGYn/cj1ZHjNBXbTJJCp801omwO8tLUeciZiLJ1sSBPHENfE2RGPnqIvUAPsfnDQzxVmw5rkSJtMn6SwbIUdYdeCHTweVL6kqebQ3FzDL4D/QPyS4di/UDcljdHKpqjUX2zs+q5pUqPA+4EBxrslRWNbQ0oaAy4daSiGS/k6wu5g3Vqv1ysMjJfXxqZg9KoKXl4yeIKTRNFzBxEC1mXBOJZVCpLEC0nSpYzq5Gx1p2vYRTxd4cPcilB3a3wrfS2GwN3LtbihX5tn1z6Kr+dmo5GA9sbKVpLsetImj8iRoaLaj9dgQ5L2f98uEY/jowzUPg24eLN7t+L+mvf/XFkL/4F&lt;/diagram&gt;&lt;diagram id=&quot;CXPa6HNkmJwOu8goTntj&quot; name=&quot;传统进程间的通信&quot;&gt;7VxZc+I4EP41qpp5SMqnLD/aHLNbNVOVrTzszNOUBxzwrkGsMROYX79qHT4FOAQTsgtJBat1tbo/tVpyK8geLLafsmg1/0KncYosY7pF9hBZlumYhH0BZScoxLEEYZYlU1moJDwmv2JJNCR1k0zjda1gTmmaJ6s6cUKXy3iS12hRltHnerEnmtZ7XUWzuEV4nERpm/pnMs3nchSWV9J/i5PZXPVsYl/krPOdaiP6tcliQV1Eqgk5vvU8mtLnCskeIXuQUZqLp8V2EKcgUiWt3WaXfN08BL/ih3FqLLbruz/cO9HY+CVVioFl8TI/b9OOaPpnlG6kBFoiyehmOY2hEQPZ4fM8yePHVTSB3GcGJEab54uUpUz2uM4z+nc8oCnNeG3b4B+W85SkqaIv6TIGEl3m42iRpAC4AV0kE9bzY7Rcs68vj6xAx3FL+fyMszzeVrAg5fAppos4z3asiMxVGpVAt2XyuUSN50vavIIYz5HESCJ1VrRcyp09SNG/QA3ecTWkCZeZELDCt1WX/iky3q+xvqSv7IyUvmn53cRv9iV98grpT5OM2bKELll6TTdAf4casY9OCPOi88E0NSrBaS7FV9MN/mdDVcbdmq9KAStgktW2zOTLjhJoSVSirZDwTH7z3n4UhJGLQg8FLho5KBwif4BGGIUuIiYaMTpBpKjEhvyj2RCjCc4VuQEwpqn8kClV4GnjKUqTGaBvwkARM3oIek/YshjIjEUynUI3Wttdt+5vZ5G9GgBdRwNADQJxbwC0jgHwRXAy71kNgBAZI58BxkfE4MghKGSUsIQQwIxlYSjDMMaKsTIB5oXb1T3kB4g4AEWfV2QPZIiCkSzDckUXxIPCoY1C3hf76495FmvH5u04wABUDwHnkOUgf8g7hWKfk+Vmq+eXMUtcqBoYKCQ8y0dhwEfgQTMlmyw5QL4ta4UWfxjwwg7UDViHYyhDiG5MrOUB/IrChGcBxdQxbishSUlM6Gr3/Smji++bdZx9+Kh68ou5nrVmf0Gx7nUjxVxFQkgBZ6OqxgDUJdQO0nU4J6yKxbkdcVuCISvEOsFWdNss7EHjrHxZWAxlcKraqzhievE5/wPgv8RjWx1tPEqwvHCAVfQRrsQ2hBrwGCjhG3JcABgXuBJZLOkbegjJTlvMd0BBZ3AGko3O4Cz0xVGaU4VRgI+CKbA8BGXuG7rPuWCCB74EF1rB6+blcQ0csDW8r8CRD761X5b9L4Np/JS/00XQdOpumGO2VkHs6VZBv69V0L0+N8wDoAEwMYBRWCiG7nB0875OBl4Td0bb/8ca3Fm9eV8d9sM9HEsw+ph9BoM3NQKuW1OGbjOm3Y05ve2PzQ4b5P+qOlzv6tRhXeHmuIMD8Qrz3A+4nvjnTee6Vze8hSGu7nvJJfe9ambfsPXeseX6V4ct3ar+5od6R08vbm7lyW6l2fArLbcNQd2xXm+OpaXzZN4egscOBW8QPP1NX8MKarY2ps596w2Cyn+8Jgh2OK27QfBUCGLLvTYIOi0dxdNZ/CiTUvh18U24xMQzzfI5ndFllH6mdCV1+lec5zsZFBJtclrXeLxN8q9Q/d6VqW+yMXgebquJnUys8yjLAwgMKZk64ICdV79ruskm8SEhqhCXKJvFhxpUBUHEB/GSxWmUJz/r0SznXwKxxv5cmU9cBVt/e6/6tHS89rTEOufEtK17tyfluEZLF5eamWZ1Xhaz9Apn5vnmkaz6QBO+7qqNE8E1YLhOQ9vCNMhapcJbDWFi3tuWV/z4tWZto2HehSFpNcvEHO0qxVZQYL2ffUwcLfslLEWLJUgL0b1iRdG9KDirUfH5R+8mvNnSbpO6DXFNzeGgzoZ4vS3tmrPBV0YSnFePNtPkeHyiHqfRes57NvvctTb8NVe3a7U0Su0tGsrWLdmnB6PoTz2KwIxgiHxSBmbcnPxOoGkedZC2JVAOx0V8fBW7XcHM3iCk9pTXhL9Yhi6OoVn1w4EgnY9dQiw+nBbC0grusYyPPWD0PQcXkDpCbV2Qpy7s1u/NrJGLO7tndlz1u1rlSet9Z6bWbPe1mqh43JAsq/GUqvcyXBzdvlqdt6/uZdzu4r2DwqcKwXyp2225dUfbdRsNncnRbjJ8EUfbbft3dmGbG2d4x826c6JZr4W39W7Wq9FwN6N+8CWf1qjrXvL1ZtTVZPtfXmXBvsbr8622+HuLDXHt824VZN31KlqiE95MHHinH4qwbw8RCwKOD79fEP3fXjucHtPnWbrjzQtuSNSVjvPeqOALFSEy7hkWFX47h4zU9kPFbPvBnnMQk2VZtVjtZnRza3lkHdv8b6fQFOPujjEdLQAbCsC1lNEtDKFLO91DZXR7u2P+g/YehzwuaMtWBKn7e1oWtwww34uKaPURf99YhPcLPeKD1UVAvLodABcxPHAjoLDPNWtXriTwGxlsRFXtBw4HBn8IvIMDxDAW6IKAgxJyJ4l5LYF4X4/BlTl0X6DYDBNIgh8lscfbsTljGDoKxhXEilsYvBbIR13HCIdyGx+MK/zoRtECEZthEnBi3jQ9ruDhd73IQyzvPTCug7HsDWRP+I0Dj7M2gn40hcWVObvCo7hWMq4oXMyBoW7Q4qSC3xaS7ewfYifmC37acHMrejbknAwZ24Gc/4C7dqd2eQOGwRnMz4HqmNfCleovuIl0u0nRxS9rrn6G5iqFbvk74SoFS5b/A0Ds88r/r2CP/gU=&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs/><g><rect x="3" y="1" width="790" height="740" fill="none" stroke="#000000" stroke-width="2" pointer-events="all"/><path d="M 1 105 L 791 105" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M -252 371 L 488 371" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" transform="rotate(90,118,371)" pointer-events="all"/><rect x="10" y="25" width="100" height="60" fill="none" stroke="none" pointer-events="all"/><g transform="translate(22.5,45.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="74" height="19" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: &quot;Comic Sans MS&quot;; color: rgb(59, 87, 166); line-height: 1.2; vertical-align: top; width: 74px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><font style="font-size: 18px" color="#000000"><b>工作流程</b></font></div></div></foreignObject><text x="37" y="16" fill="#3b57a6" text-anchor="middle" font-size="12px" font-family="Comic Sans MS">[Not supported by viewer]</text></switch></g><rect x="123" y="12" width="670" height="69" fill="none" stroke="none" pointer-events="all"/><g transform="translate(124.5,12.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="658" height="68" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: &quot;Comic Sans MS&quot;; color: rgb(59, 87, 166); line-height: 1.2; vertical-align: top; width: 659px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><font color="#000000">1. 发送进程将需要发送的数据通过系统调用拷贝到Linux进程内核空间的缓冲区中（数据第一次拷贝、通copy_from_user()）<br /><br />2.内核服务程序 唤醒接收进程的接收线程，通过系统调用的方式将数据发送到接收进程的用户空间中，最终完成数据的发送<br /><br />（数据第二次拷贝、通过copy_to_user() ）即最终实现了进程间的用户空间的数据交互<br /></font></div></div></foreignObject><text x="329" y="40" fill="#3b57a6" text-anchor="middle" font-size="12px" font-family="Comic Sans MS">&lt;font color="#000000"&gt;1. 发送进程将需要发送的数据通过系统调用拷贝到Linux进程内核空间的缓冲区中（数据第一次拷贝、通copy_from_user()）&lt;br&gt;&lt;br&gt;2.内核服务程序 唤醒接收进程的接收线程，通过系统调用的方式将数据发送到接收进程的用户空间中，最终完成数据的发送&lt;br&gt;&lt;br&gt;（数据第二次拷贝、通过copy_to_user() ）即最终实现了进程间的用户空间的数据交互&lt;br&gt;&lt;/font&gt;</text></switch></g><rect x="23" y="371" width="60" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(24.5,371.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="56" height="19" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: &quot;Comic Sans MS&quot;; color: rgb(59, 87, 166); line-height: 1.2; vertical-align: top; width: 56px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><font style="font-size: 18px" color="#000000"><b>示意图</b></font></div></div></foreignObject><text x="28" y="16" fill="#3b57a6" text-anchor="middle" font-size="12px" font-family="Comic Sans MS">[Not supported by viewer]</text></switch></g><rect x="138" y="201" width="210" height="410" fill="#ffffcc" stroke="#000000" stroke-width="2" pointer-events="all"/><rect x="558" y="201" width="210" height="410" fill="#ffffcc" stroke="#000000" stroke-width="2" pointer-events="all"/><rect x="153" y="211" width="180" height="60" fill="#ffffff" stroke="#000000" stroke-width="2" pointer-events="all"/><g transform="translate(205.5,230.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="73" height="19" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: &quot;Comic Sans MS&quot;; color: rgb(59, 87, 166); line-height: 1.2; vertical-align: top; width: 75px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><font style="font-size: 18px" color="#000000"><b>用户空间</b></font></div></div></foreignObject><text x="37" y="16" fill="#3b57a6" text-anchor="middle" font-size="12px" font-family="Comic Sans MS">[Not supported by viewer]</text></switch></g><rect x="573" y="211" width="180" height="60" fill="#ffffff" stroke="#000000" stroke-width="2" pointer-events="all"/><g transform="translate(625.5,230.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="73" height="19" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: &quot;Comic Sans MS&quot;; color: rgb(59, 87, 166); line-height: 1.2; vertical-align: top; width: 75px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><font style="font-size: 18px" color="#000000"><b>用户空间</b></font></div></div></foreignObject><text x="37" y="16" fill="#3b57a6" text-anchor="middle" font-size="12px" font-family="Comic Sans MS">[Not supported by viewer]</text></switch></g><rect x="393" y="396" width="100" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(405.5,396.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="74" height="19" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: &quot;Comic Sans MS&quot;; color: rgb(59, 87, 166); line-height: 1.2; vertical-align: top; width: 74px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><font style="font-size: 18px" color="#000000"><b>内核空间</b></font></div></div></foreignObject><text x="37" y="16" fill="#3b57a6" text-anchor="middle" font-size="12px" font-family="Comic Sans MS">[Not supported by viewer]</text></switch></g><rect x="183" y="171" width="110" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(200.5,171.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="74" height="19" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: &quot;Comic Sans MS&quot;; color: rgb(59, 87, 166); line-height: 1.2; vertical-align: top; width: 74px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><font style="font-size: 18px" color="#000000"><b>发送进程</b></font></div></div></foreignObject><text x="37" y="16" fill="#3b57a6" text-anchor="middle" font-size="12px" font-family="Comic Sans MS">[Not supported by viewer]</text></switch></g><rect x="608" y="171" width="110" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(625.5,171.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="74" height="19" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: &quot;Comic Sans MS&quot;; color: rgb(59, 87, 166); line-height: 1.2; vertical-align: top; width: 74px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><font style="font-size: 18px" color="#000000"><b>接收进程</b></font></div></div></foreignObject><text x="37" y="16" fill="#3b57a6" text-anchor="middle" font-size="12px" font-family="Comic Sans MS">[Not supported by viewer]</text></switch></g><path d="M 468 496 L 468 496" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 468 496 L 468 496 L 468 496 Z" fill="#000000" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><rect x="158" y="441" width="600" height="132.5" fill="#ffffff" stroke="#000000" stroke-width="2" pointer-events="all"/><path d="M 569 516 L 667 516 L 664.44 281.24" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 664.35 273.24 L 667.11 281.21 L 661.77 281.26 Z" fill="#000000" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><rect x="368" y="481" width="200" height="70" fill="none" stroke="#999999" stroke-width="2" pointer-events="all"/><rect x="408" y="496" width="120" height="40" fill="none" stroke="#3399ff" stroke-width="2" stroke-dasharray="6 6" pointer-events="all"/><g transform="translate(425.5,509.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="84" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: &quot;Comic Sans MS&quot;; color: rgb(59, 87, 166); line-height: 1.2; vertical-align: top; width: 85px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">需要发送的数据</div></div></foreignObject><text x="42" y="12" fill="#3b57a6" text-anchor="middle" font-size="12px" font-family="Comic Sans MS">需要发送的数据</text></switch></g><rect x="393" y="451" width="75" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(400.5,454.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="60" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: &quot;Comic Sans MS&quot;; color: rgb(59, 87, 166); line-height: 1.2; vertical-align: top; width: 61px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><font color="#000000">内核缓存区</font></div></div></foreignObject><text x="30" y="12" fill="#3b57a6" text-anchor="middle" font-size="12px" font-family="Comic Sans MS">[Not supported by viewer]</text></switch></g><rect x="163" y="301" width="190" height="90" fill="none" stroke="none" pointer-events="all"/><g transform="translate(164.5,318.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="185" height="54" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: &quot;Comic Sans MS&quot;; color: rgb(59, 87, 166); line-height: 1.2; vertical-align: top; width: 186px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">1. 发送数据<br />2. 拷贝数据(第一次)<br /><br />(通过系统调用copy_from_user() )</div></div></foreignObject><text x="93" y="33" fill="#3b57a6" text-anchor="middle" font-size="12px" font-family="Comic Sans MS">1. 发送数据&lt;br&gt;2. 拷贝数据(第一次)&lt;br&gt;&lt;br&gt;(通过系统调用copy_from_user() )</text></switch></g><path d="M 243 271 L 243 516 L 357.76 516" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 365.76 516 L 357.76 518.67 L 357.76 513.33 Z" fill="#000000" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><rect x="573" y="301" width="180" height="90" fill="none" stroke="none" pointer-events="all"/><g transform="translate(574.5,318.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="170" height="54" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: &quot;Comic Sans MS&quot;; color: rgb(59, 87, 166); line-height: 1.2; vertical-align: top; width: 171px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">3. 接收数据<br />4. 拷贝数据(第二次)<br /><br />(通过系统调用copy_to_user() )</div></div></foreignObject><text x="85" y="33" fill="#3b57a6" text-anchor="middle" font-size="12px" font-family="Comic Sans MS">3. 接收数据&lt;br&gt;4. 拷贝数据(第二次)&lt;br&gt;&lt;br&gt;(通过系统调用copy_to_user() )</text></switch></g><path d="M 1 666 L 793 666" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><rect x="23" y="691" width="60" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(34.5,691.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="36" height="19" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: &quot;Comic Sans MS&quot;; color: rgb(59, 87, 166); line-height: 1.2; vertical-align: top; width: 38px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><font color="#000000"><span style="font-size: 18px"><b>缺点</b></span></font></div></div></foreignObject><text x="18" y="16" fill="#3b57a6" text-anchor="middle" font-size="12px" font-family="Comic Sans MS">[Not supported by viewer]</text></switch></g><rect x="123" y="672" width="660" height="69" fill="none" stroke="none" pointer-events="all"/><g transform="translate(124.5,672.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="658" height="68" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: &quot;Comic Sans MS&quot;; color: rgb(59, 87, 166); line-height: 1.2; vertical-align: top; width: 658px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><font color="#000000">1. 效率低下：需要做2次数据拷贝 = 用户空间 --&gt;&gt; 内核空间 --&gt;&gt; 用户空间<br />2. 接收数据的缓存需要有接收方提供，但接收方却不知道到底要多大的缓存才能满足<br />（一般做法是：开辟尽可能大的空间 or 先调用API接收消息头获得消息体大小，再开辟适当的空间接收消息体，但前者浪费空间、后者浪费时间）<br /><br /></font></div></div></foreignObject><text x="329" y="40" fill="#3b57a6" text-anchor="middle" font-size="12px" font-family="Comic Sans MS">&lt;font color="#000000"&gt;1. 效率低下：需要做2次数据拷贝 = 用户空间 --&gt;&gt; 内核空间 --&gt;&gt; 用户空间&lt;br&gt;2. 接收数据的缓存需要有接收方提供，但接收方却不知道到底要多大的缓存才能满足&lt;br&gt;（一般做法是：开辟尽可能大的空间 or 先调用API接收消息头获得消息体大小，再开辟适当的空间接收消息体，但前者浪费空间、后者浪费时间）&lt;br&gt;&lt;br&gt;&lt;/font&gt;</text></switch></g></g></svg>